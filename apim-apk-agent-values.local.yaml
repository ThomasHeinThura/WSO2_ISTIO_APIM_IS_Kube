wso2:
  subscription:
    imagePullSecrets: ""

replicaCount: 1

image:
  repository: wso2/apim-apk-agent
  tag: 1.3.0
  pullPolicy: Always

service:
  name: apim-apk-agent-service

resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "256Mi"
    cpu: "200m"

controlPlane:
  enabled: true

  # Target your existing APIM Control Plane service in namespace `wso2`
  serviceURL: https://apim-wso2am-all-in-one-am-service.wso2.svc.cluster.local:9443/
  username: admin
  password: admin

  # Publish to the APK gateway environment we add in apim-cp-values.yaml
  environmentLabels: Default_apk

  skipSSLVerification: true

  # Event hub AMQP endpoint exposed by your APIM CP service (5672 is present)
  eventListeningEndpoints: "amqp://admin:admin@apim-wso2am-all-in-one-am-service.wso2.svc.cluster.local:5672?retries='10'&connectdelay='30'"

  # Used for internal-key / API key related flows
  internalKeyIssuer: https://apim.local/oauth2/token

dataPlane:
  enabled: true
  # APK configurator endpoint (service name matches the `apk` chart release)
  k8ResourceEndpoint: https://apk-wso2-apk-config-ds-service.apk.svc.cluster.local:9443/api/configurator/apis/generate-k8s-resources
  namespace: apk

metrics:
  enabled: false

agent:
  mode: CPtoDP

certmanager:
  enabled: false

serviceAccount:
  enableServiceAccountCreation: true
  enableClusterRoleCreation: true
  serviceAccountName: wso2agent-platform
  roleName: wso2agent-role
